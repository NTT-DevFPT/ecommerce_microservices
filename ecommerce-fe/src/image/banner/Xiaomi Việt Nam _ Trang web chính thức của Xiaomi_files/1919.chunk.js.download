"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1919],{21919:(e,t,a)=>{a.r(t),a.d(t,{StoreDailyPick:()=>Ye,default:()=>Je});var n=a(67294),c=a(94184),o=a(11447),r=a(27484),i=a(7124),l=a(49133),s=a(56148),m=a(25191),d=a(7651),u=a(62711),f=a(28553),p=a(9905),L=a(41931),v=a(55709),b=a(1796),g=a(52241),h=a(42625),y=a(1128),x=a(7356),E=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};function _(e){var t,a=e.childId,o=e.gotoUrl,r=e.isSubscribed,i=e.basicClassName,l=e.classModify,m=e.buryData,_=e.otClick,w=e.btnShowType,N=e.className,k=e.showBtn,C=void 0!==k&&k,S=(0,b.YB)(),T=(0,b.oW)(),I=(0,n.useContext)(s.z),M=I.actId,D=I.eventStatus,O=E((0,n.useState)(r),2),q=O[0],j=O[1],P=(0,n.useContext)(x.x),A=E((0,n.useState)(""),2),F=A[0],U=A[1],z=E((0,n.useState)(!1),2),R=z[0],W=z[1],Z=(0,n.useMemo)((function(){return{event_code:"daily_pick",block_code:M,aid:a,build_type:3}}),[M,a]),H=E((0,g.m)((function(e,t){return t.pipe((0,L.x)((function(e,t){return e.join("")===t.join("")})),(0,v.U)((function(e){var t=E(e,2),a=t[0],n=t[1];switch(a){case 0:return[!0,"time",S.get("8f3d10eb21bd36347c258679eba9e92b"),0];case 1:return[!1,"",S.get("eeceac1af4e7620894d6d2083921bb73"),1];case 2:return[!1,n?"subscribed":"not-subscribed",n?S.get("ac2098a3df293857554a83b6b9ae825b"):S.get("ee331d3ab4cf4863063f57875fa38aa6"),n?2:3];case 3:return[!0,n?"subscribed":"not-subscribed",S.get("81151a1669ebd695e837f304a0d8ec79"),4];default:return[!0,"time",S.get("8524de963f07201e5c086830d370797f"),5]}})))}),[!0,"time",S.get("8524de963f07201e5c086830d370797f"),5],[D,q]),4),B=H[0],V=H[1],Y=H[2],G=H[3];return!C&&[0,1].includes(D)?n.createElement(n.Fragment,null):n.createElement(n.Fragment,null,n.createElement(d.z,{className:c("".concat(i,"__button"),(t={},t["".concat(i,"__button--").concat(l)]=!!l,t["".concat(i,"__button--gray")]=[0,2,4,5].includes(G)||!C&&3===D,t["".concat(i,"__button--ready")]=2===D&&!C&&q,t["".concat(i,"__button--not-ready")]=2===D&&!C&&!q,t["".concat(N)]=!!N,t)),btnType:w,onClick:function(e){return function(e,t){switch(e.stopPropagation(),t){case 1:return _(Object.assign({},m,{buttonName:"buy_now"})),(0,h.MN)("".concat(o,"?skupanel=1"));case 2:return _(Object.assign({},m,{buttonName:"cancel_remind"})),W(!0),null;case 3:return _(Object.assign({},m,{buttonName:"remind"})),P.getService({params:Z,extendUrl:["follow"]},(function(e){return 10004===e.errNo?(0,y.XR)({siteConfig:T}):e.errNo?void 0:(U(S.get("9841e214b0ad5fd7068f6c639b10c610")),j(e.data.isFollowed))})),null;default:return null}}(e,G)},disabled:B},!C&&n.createElement(u.q,{symbol:V,className:"".concat(i,"__button-icon")}),C&&n.createElement("span",{className:"".concat(i,"__button-text")},Y)),n.createElement(f.F,{msg:F,callback:function(){return U("")}}),n.createElement(p.u,{isModalShow:R,closeModal:function(){return W(!1)},confirm:function(){P.getService({params:Z,extendUrl:["unfollow"]},(function(e){return 10004===e.errNo?(0,y.XR)({siteConfig:T}):e.errNo?void 0:(W(!1),j(!e.data.hasRemoved))}))},cancelText:S.get("3049dacdbd8857b7f0d88d05364916bd"),cancel:function(){return W(!1)}},S.get("cf0a4806d073bae6b38dfc624de88844")))}var w=a(97489),N=function(){return N=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},N.apply(this,arguments)};function k(e){var t=e.showBtn,a=e.scene,c=e.classModify;return"daily-pick"===a?n.createElement(_,N({},e,{btnShowType:t?"primary":"icon"})):n.createElement(w.Q,N({},e,{btnShowType:"quarter"!==c?"primary":"icon"}))}var C=function(){return C=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},C.apply(this,arguments)};function S(e){var t=e.title,a=e.buyUrl,c=e.goodsIdList,o=e.isSubscribed,r=e.childId,i=e.activityId,l=e.itemIndex,s=e.listIndex,d=e.basicClassName,u=e.classModify,f=e.otTipOffsetD,p=e.marketingInfo,L=e.otClick,v=e.otModule,b=e.statusName,g="".concat(d,"__item"),h="half"===u,y={tip:{c:"".concat(v,"-").concat(l+1),d:f+s+1},link:"".concat(a),goodsId:(null==c?void 0:c[0])||0,promotionId:"".concat(i),creativeSlot:"".concat(s+1),elementName:"".concat(b),elementTitle:"learn_more",itemName:t,tag:h&&(null==p?void 0:p.installment)?"inter":""};return n.createElement(m.l,C({},e,{isShowMarketingInfo:h}),n.createElement(n.Fragment,null,"half"===u&&n.createElement("div",{className:"".concat(g,"-action"),onClick:function(e){return e.stopPropagation()},role:"button",tabIndex:0},n.createElement(k,{childId:r,gotoUrl:a,isSubscribed:o,basicClassName:"".concat(d),classModify:u,otClick:L,buryData:y}))))}var T=a(56024),I=a(63845),M=a(65014),D=a(86584),O=a(64519),q=a(24002),j=function(){return j=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},j.apply(this,arguments)},P=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};function A(e){var t,a,o=e.activeIndex,m=e.basicClassName,d=e.classModify,u=void 0===d?"quarter":d,f=e.otTipOffsetD,p=void 0===f?0:f,L=e.children,v=e.actId,b=e.endTime,g=e.startTime,h=e.serverTime,y=e.requestTime,x=e.updateActivityList,E=e.otClick,_=e.otModule,w=e.otExpose,N=e.layoutIndex;r.extend(i),r.extend(l);var C="".concat(m,"__list"),I=(0,T.ag)(),M=P((0,n.useState)("finished"),2),D=M[0],A=M[1];return n.createElement(s.b,{basicClassName:C,classModify:u,actId:v,endTime:b,startTime:g,serverTime:h,requestTime:y,updateActivityList:x,handleStatusCallback:function(e){return A(e)},allowHeaderCountdown:"quarter"!==u,countDownType:"mobile"===I?"icon":"text"},n.createElement(n.Fragment,null,n.createElement(O.t,{wrapperTag:"ul",spaceBetween:0,slidesPerView:"auto",effect:"fade",fadeEffect:{crossFade:!0},simulateTouch:L.length>1,scrollbar:L.length>1&&{draggable:!0},className:c((t={},t["".concat(C,"-swiper")]=!0,t["".concat(C,"-swiper--scroll")]=L.length>1,t))},L.map((function(e,t,a){return n.createElement(q.o,{tag:"li",key:"".concat(t,"-").concat(e.childId)},n.createElement(S,j({activityId:v,itemIndex:t,listIndex:o,listLength:a.length,statusName:D,basicClassName:"".concat(m),classModify:u,otClick:E,otModule:_,otExpose:w,otTipOffsetD:p,layoutIndex:N},e)))}))),"half"!==u&&n.createElement(k,{childId:L[0].childId,gotoUrl:L[0].buyUrl,isSubscribed:L[0].isSubscribed,basicClassName:"".concat(m),classModify:u,otClick:E,buryData:{tip:{c:"".concat(_,"-1"),d:p+o+1},link:"".concat(L[0].buyUrl),goodsId:null===(a=L[0].goodsIdList)||void 0===a?void 0:a[0],promotionId:"".concat(v),elementName:"remind",elementTitle:""}})))}I.Z.use([M.Z,D.Z]);var F=a(4153),U=a(70096),z=a(53811),R=a(70308),W=a(86636),Z=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};function H(e){var t=e.className,a=e.comments,c=Z((0,n.useState)(0),2),o=c[0],r=c[1];(0,n.useLayoutEffect)((function(){var e=setInterval((function(){r((function(e){return e+1===a.length?0:e+1}))}),5500);return function(){return clearInterval(e)}}),[o,a.length]);var i=(0,n.useCallback)((function(e){if(a.length<2)return"animation-1";switch(o){case e:return"animation-0";case e-1:return"animation-1";default:return"animation-other"}}),[o,a]);return n.createElement("div",{className:"container ".concat(t)},a.map((function(e,t){return n.createElement("div",{key:t,className:"item ".concat(i(t))},n.createElement("p",{className:"avatar"},n.createElement("img",{src:e.userAvatar,alt:e.userName})),n.createElement("div",{className:"content-wrap"},n.createElement("p",{className:"content"},n.createElement("span",{className:"user"},e.userName,": "),e.commentContent)))})))}var B=a(32740),V=a(67523),Y=a(69097),G=a(29674),J={diy:0,discount:1,exchange:2,freeshipping:3};function K(e){var t,a=e.title,o=e.subtitle,r=e.salePriceText,i=e.originPriceText,l=e.buyUrl,m=e.promoImgUrl,d=e.imgUrl,u=e.itemIndex,f=(e.listIndex,e.basicClassName),p=e.classModify,L=e.otClick,v=e.otExpose,g=e.otModule,y=e.energyInfo,x=e.marketingInfo,E=e.layoutIndex,_=e.containerType,w=e.isShowFrom,N=e.comments,C=e.acts,S=e.theme,I=e.containerRef,M=e.childId,D=e.isSubscribed,O=e.ksp,q=e.skeletonData,j=e.layoutStyle,P=e.len,A=e.categories,Z=e.atRowEnd,K=void 0!==Z&&Z,X=(0,T.ag)(),$=(0,b.aU)(),Q=(0,G.h)($,Y.Z),ee=(0,n.useMemo)((function(){return"mobile"===X&&2===P&&"half"===p?"quarter":p}),[P,p,X]),te=(0,n.useContext)(s.z).eventStatus,ae="".concat(f,"__item"),ne=(0,n.useMemo)((function(){var e,t=((null===(e=null==x?void 0:x.tags)||void 0===e?void 0:e.filter((function(e){return("discount"!==e.subType||!Q.data.hideDiscountTag)&&["diy","discount","exchange","freeshipping"].includes(e.subType)})))||[]).sort((function(e,t){return J[e.subType]-J[t.subType]}));return"quarter"===ee?t.slice(0,1):t}),[]),ce=(0,n.useMemo)((function(){return"first"===_&&!!m}),[]),oe=["view_item_list","select_item"],re={a:16,c:"".concat(g,"|").concat(u+1),d:0},ie=(0,V.n3)(A,-1),le=(0,V.n3)(A,-2),se={tip:re,elementName:"store_daily_pick",elementTitle:a,itemName:a,productId:M,style:j,link:l,categoryName:ie.title,categoryId:ie.catId,parentCategoryName:le.title,parentCategoryId:le.catId,itemCategory2:null==ie?void 0:ie.title,itemCategory:null==le?void 0:le.title},me=(0,n.useMemo)((function(){return JSON.stringify(Object.assign({},se,{event:oe[0]}))}),[se]),de=(0,n.useMemo)((function(){return"first"===_&&0===u}),[]);return n.createElement("div",{className:c((t={},t["".concat(ae)]=!0,t["".concat(ae,"--").concat(ee)]=!!ee,t["".concat(ae,"--pc-bg")]="first"===_&&!!m&&"mobile"!==X,t["".concat(ae,"--mobile-full")]="mobile"===X&&"full"===ee&&!m,t["".concat(ae,"--mobile-bg")]="mobile"===X&&"first"===_&&!!m,t.end=K,t)),"data-ot-expose":me,role:"button",tabIndex:0,onClick:function(e){e.stopPropagation(),L(Object.assign({},se,{event:oe[1]})),(0,h.MN)("".concat(l))},style:"mobile"===X&&"quarter"===ee&&(null==C?void 0:C[0])?{borderBottomRightRadius:"15px"}:{}},ce?n.createElement("div",{className:"".concat(ae,"-full-image-container")},n.createElement("div",{className:"shell"},n.createElement(U.E,{pictureClassName:"".concat(ae,"-full-image"),alt:"背景图",srcSet:{widescreen:m},widths:{widescreen:720},lazyLoading:E>B.s})),n.createElement("div",{className:"".concat(ae,"-comments-container")},!!(null==N?void 0:N.length)&&n.createElement(H,{className:"".concat(ae,"-comments"),comments:N})),(null==C?void 0:C[0])&&n.createElement(W.c,{acts:C||[],skeletonData:q,theme:S,scene:"daily-pick",classModify:ee,className:"".concat(ae,"-act"),containerRef:I,otInfo:{elementName:"store-daily-pick",otModule:g,otExpose:v},atRowEnd:K})):n.createElement(n.Fragment,null),n.createElement("article",{className:"".concat(ae,"-detail")},n.createElement("div",{className:"".concat(ae,"-upper")},n.createElement("div",{className:"".concat(ae,"-title"),style:"quarter"!==ee||[0,1].includes(te)?{}:{width:"calc(100% - 30px)"}},n.createElement("div",null,n.createElement("span",{className:"name"},a&&a.trim()),o&&o.split("|").map((function(e,t){return n.createElement("span",{key:t,className:"memory"},e)}))),n.createElement("div",null)),"quarter"===ee||"half"===("mobile"===X&&ee)?(null==y?void 0:y.length)?n.createElement(F.Y,{className:"".concat(ae,"-energy"),energyInfo:y}):(null==ne?void 0:ne.length)?n.createElement("div",{className:"".concat(ae,"-tag-container")},null==ne?void 0:ne.map((function(e,t){return n.createElement("div",{className:"".concat(ae,"-tag-wrap"),key:t},n.createElement("div",{className:"".concat(ae,"-tag-item")},e.label))}))):n.createElement(n.Fragment,null,O&&n.createElement("div",{className:"".concat(ae,"-ksp")},O)):n.createElement(n.Fragment,null,O&&n.createElement("div",{className:"".concat(ae,"-ksp")},O),n.createElement(F.Y,{className:"".concat(ae,"-energy"),energyInfo:y}),n.createElement("div",{className:"".concat(ae,"-tag-container")},null==ne?void 0:ne.map((function(e,t){return n.createElement("div",{className:"".concat(ae,"-tag-wrap"),key:t},n.createElement("div",{className:"".concat(ae,"-tag-item")},e.label))}))))),n.createElement("div",{className:"".concat(ae,"-lower")},"quarter"!==ee&&n.createElement(z.Z.Installment,{className:"".concat(ae,"-installment"),installment:null==x?void 0:x.installment}),n.createElement(R.n,{className:"".concat(ae,"-price"),salePrice:String(r),delPrice:String(i),isShowFrom:w,singleLineFrom:"half"===ee}),de&&n.createElement("div",{className:"".concat(ae,"-main-subscribed"),onClick:function(e){return e.stopPropagation()},role:"button",tabIndex:0},n.createElement(k,{childId:M,gotoUrl:l,isSubscribed:D,basicClassName:"".concat(f),classModify:ee,showBtn:de,otClick:L,buryData:se,scene:"daily-pick"})))),!de&&n.createElement("div",{className:"".concat(ae,"-subscribed"),onClick:function(e){return e.stopPropagation()},role:"button",tabIndex:0},n.createElement(k,{childId:M,gotoUrl:l,isSubscribed:D,basicClassName:"".concat(f),classModify:ee,showBtn:de,otClick:L,buryData:se,scene:"daily-pick"})),!ce&&n.createElement("aside",{className:"".concat(ae,"-images")},n.createElement(U.E,{pictureClassName:"".concat(ae,"-main"),srcSet:{widescreen:d},widths:{widescreen:360,mobile:120},alt:a}),(null==N?void 0:N.length)&&"full"===ee&&"first"===_&&"mobile"!==X?n.createElement("div",{className:"".concat(ae,"-comments-container")},n.createElement(H,{className:"".concat(ae,"-comments"),comments:N})):n.createElement(n.Fragment,null),"first"===_&&(null==C?void 0:C[0])&&n.createElement(W.c,{acts:C||[],skeletonData:q,theme:S,scene:"daily-pick",classModify:ee,className:"".concat(ae,"-act"),containerRef:I,otInfo:{elementName:"store-daily-pick",otModule:g,otExpose:v},atRowEnd:!0})),"first"!==_&&(null==C?void 0:C[0])&&n.createElement(W.c,{acts:"quarter"===ee?(null==C?void 0:C.slice(0,1))||[]:C||[],skeletonData:q,theme:ce?"dark":"light",scene:"daily-pick",classModify:ee,className:"".concat(ae,"-act"),containerRef:I,otInfo:{elementName:"store-daily-pick",otModule:g,otExpose:v},atRowEnd:K}))}var X=function(){return X=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},X.apply(this,arguments)},$=n.memo((function(e){return n.createElement(K,X({},e,{isShowMarketingInfo:!0}))})),Q=function(){return Q=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},Q.apply(this,arguments)},ee=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};I.Z.use([M.Z,D.Z]);var te={1:1,2:13,3:14,4:16},ae="one-special",ne="two-special",ce="two-normal",oe="one-special+two-normal_special",re="one-special+two-normal_normal",ie="four-normal",le={1:[ae],13:[ne,ne],14:[oe,re,re],16:[ie,ie,ie,ie]},se={1:[ae],13:[ce,ce],14:[oe,re,re],16:[ce,ce,ce,ce]};const me=n.memo((function(e){var t=e.basicClassName,a=e.classModify,c=void 0===a?"quarter":a,m=e.otTipOffsetD,d=void 0===m?0:m,u=e.children,f=e.actId,p=e.endTime,L=e.startTime,v=e.serverTime,b=e.requestTime,g=e.updateActivityList,h=e.otClick,y=e.otExpose,x=e.otModule,E=e.layoutIndex,_=e.theme,w=e.listIndex,N=e.skeletonData;r.extend(i),r.extend(l);var k="".concat(t,"__list"),C=(0,T.ag)(),S=ee((0,n.useState)("finished"),2),I=S[0],M=S[1],D=u.slice(0,1),O=u.slice(1),q=ee((0,n.useState)(!1),2),j=q[0],P=q[1];return n.createElement(s.b,{basicClassName:k,classModify:c,actId:f,endTime:p,startTime:L,serverTime:v,requestTime:b,updateActivityList:g,handleStatusCallback:function(e){M(e),!j&&P(!0)},allowHeaderCountdown:"quarter"!==c,countDownType:"mobile"===C?"icon":"text"},n.createElement(n.Fragment,null,j&&n.createElement(n.Fragment,null,n.createElement("div",{className:"".concat(k,"-first-container")},n.createElement(o.I,{margin:"small",style:1},D.map((function(e,a,c){var o;return n.createElement($,Q({key:"".concat(a,"-").concat(e.childId),activityId:f,itemIndex:a,listIndex:w,listLength:c.length,statusName:I,basicClassName:"".concat(t),otClick:h,otModule:x,otExpose:y,otTipOffsetD:d,layoutIndex:E,containerType:"first",theme:_,skeletonData:N,layoutStyle:null===(o=le[1])||void 0===o?void 0:o[0],atRowEnd:!0},e))})))),O.length>0&&n.createElement("div",{className:"".concat(k,"-seconds-container")},n.createElement(o.I,{margin:"small",style:te[O.length]},O.map((function(e,a,c){var o,r;return n.createElement($,Q({key:"".concat(a,"-").concat(e.childId),activityId:f,itemIndex:a,listIndex:w,listLength:c.length,statusName:I,basicClassName:"".concat(t),otClick:h,otModule:x,otExpose:y,otTipOffsetD:d,layoutIndex:E,containerType:"seconds",theme:_,skeletonData:N,layoutStyle:"mobile"===C?null===(o=se[te[O.length]||"1"])||void 0===o?void 0:o[a]:null===(r=le[te[O.length]||"1"])||void 0===r?void 0:r[a],len:O.length,atRowEnd:a===O.length-1},e))})))))))}));var de=a(43769),ue=a(70178),fe=a(29387),pe=a(5631),Le=a(22886),ve=a(69604),be=a(52329),ge=a(63438),he=a(66008),ye=a(81690),xe=a(5602),Ee=a(98661),_e=a(55342),we=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};function Ne(e){var t=e.basicClassName,a=e.endTime,c=e.startTime,o=e.serverTime,s=e.requestTime,m=e.allowHeaderCountdown,d=e.updateActivityList,f=e.countDownType,p=void 0===f?"icon":f,L=e.activityDateTime,h=void 0===L?"date-time":L,y=e.isActive,x=void 0!==y&&y,E=e.index,_=void 0===E?0:E,w=e.listLen,N=void 0===w?0:w,k=e.handleStatusCallback;r.extend(i),r.extend(l),r.extend(ue),r.extend(fe);var C=3600,S=(0,b.YB)(),T=(0,b.oW)(),I=we((0,n.useState)(0),2),M=I[0],D=I[1],O=(0,n.useMemo)((function(){return o-s}),[s,o]),q=we((0,g.m)((function(e,t){return t.pipe((0,v.U)((function(e){var t=we(e,3),a=t[0],n=t[1],c=t[2],o=Math.floor(Date.now()/1e3)+a+1,i=n<=o?0:c<=o?1:c-o<=C?3:2,l=1e3*(n-c)>=86399e3?"".concat(S.get("0a59f7d698e7fa553993d16dc5d2faeb")):"",s=r(1e3*c).tz(T.dayjsTimezone).isToday(),m=r(1e3*c).tz(T.dayjsTimezone).isTomorrow(),d=s?0:m?1:-1,u=2===i?c-(Math.floor(Date.now()/1e3)+a)-C:0;return k(["finished","onsale","presale","onsale"][i]),[i,d,l,u>0?u:0]})))}),[0,-1,"",0],[O,a,c,M]),4),j=q[0],P=q[1],A=q[2],F=q[3];function U(e){D(Date.now()),e&&d()}return(0,g.m)((function(e,t){return t.pipe((0,v.U)((function(e){return we(e,1)[0]})),(0,be.jn)((function(e){return e<0?pe.E:(0,Le.of)(e).pipe((0,ge.b)((function(e){e<=.01&&U(!1)})),(0,v.U)((function(e){return e>7200||e<C?e:e-C})),(0,v.U)((function(e){return Math.floor(e/2*100)/100})),(0,he.h)((function(e){return e>0})),(0,ye.j)((function(e){return(0,ve.H)(1e3*e)})))})),(0,xe.h)(void 0))}),void 0,[F]),console.debug("GetDateStr-eventStatus",P),n.createElement("div",{className:"".concat(t,"-header header-status-").concat(j," ").concat(x?"active":"normal"," ").concat(N-1===_?"last":""," ").concat(N-1>_&&_>0?"middle":"")},![1,3].includes(j)&&n.createElement("div",{className:"".concat(t,"-date status-").concat(j)},"date-week-time"===h&&n.createElement("strong",null,n.createElement(Ee.q,{timestamp:1e3*c,showType:"onlyDateAbbrMD",isLocaleTimezone:!0})),!x&&n.createElement(u.q,{className:"iconfont-progress",symbol:"progress"}),x&&n.createElement("i",{className:"act-progress-icon"},n.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M9.72544 4.67763C10.2312 4.67763 10.6421 5.08352 10.6503 5.58743L10.6504 5.58986L10.6504 5.60019L10.6504 5.60263L10.6504 9.50183L13.1243 9.50185C13.6301 9.50185 14.041 9.90774 14.0492 10.4116L14.0492 10.4141L14.0493 10.4244L14.0493 10.4268C14.0493 10.9326 13.6434 11.3436 13.1395 11.3517L13.1371 11.3518L13.1267 11.3518L13.1243 11.3518H9.72544C9.21966 11.3518 8.80873 10.946 8.80056 10.442L8.80053 10.4396L8.80045 10.4293L8.80044 10.4268V5.60263C8.80044 5.09176 9.21457 4.67763 9.72544 4.67763Z",fill:"#191919"}),n.createElement("path",{d:"M3.64393 3.659C5.20535 2.09901 7.43927 1.94531 9.99922 1.94531C12.5557 1.94531 14.7864 2.09702 16.3485 3.653C17.9143 5.2135 18.0531 7.44847 18.0531 10.0068C18.0531 12.5616 17.916 14.7946 16.3539 16.3558C14.7918 17.9169 12.5565 18.0531 9.99922 18.0531C7.44189 18.0531 5.20669 17.9169 3.64456 16.3558C2.0821 14.795 1.94531 12.5616 1.94531 10.0068C1.94531 7.45192 2.08212 5.21952 3.64393 3.659ZM9.78504 3.79575L9.70162 3.7962L9.49836 3.79798L9.30242 3.80076L9.18825 3.80291L9.11352 3.80455L9.03966 3.80637L9.00344 3.80734L8.93138 3.8094L8.86036 3.81165L8.79036 3.81407L8.72111 3.81667L8.68722 3.81803L8.61969 3.8209L8.61869 3.82094L8.55285 3.82396L8.52018 3.82555L8.45501 3.82888L8.45392 3.82894L8.39075 3.8324L8.38962 3.83246L8.32709 3.83612L8.29603 3.83803L8.23397 3.84203L8.23276 3.84211L8.17276 3.84622L8.17151 3.84631L8.11239 3.85061L8.1111 3.85071L8.05282 3.8552L8.0515 3.8553L7.99405 3.85998L7.99269 3.8601L7.9357 3.86501L7.93465 3.8651L7.90734 3.86755L7.90627 3.86764L7.84974 3.87291C7.47308 3.90894 7.14473 3.9588 6.83952 4.02504C6.00259 4.2067 5.41224 4.50738 4.95151 4.96768C4.49364 5.42517 4.19647 6.01107 4.01814 6.84629C3.95272 7.15267 3.90394 7.48119 3.86899 7.86038L3.86388 7.91733L3.86375 7.91874L3.85894 7.97545L3.85882 7.97682L3.85417 8.03471L3.85409 8.03571L3.8519 8.06416L3.84744 8.12465L3.84532 8.15475L3.84116 8.21653L3.83918 8.24731L3.83533 8.31013L3.83526 8.3113L3.83168 8.37389L3.83161 8.37501L3.82821 8.43858L3.82815 8.43967L3.82493 8.50424L3.82488 8.50529L3.82183 8.57089L3.82179 8.5719L3.81891 8.63878L3.81754 8.67274L3.8149 8.74194L3.81243 8.81219L3.81015 8.88352L3.80804 8.95595L3.80609 9.02949L3.80432 9.10417L3.80272 9.18001L3.80127 9.25702L3.79999 9.33524L3.79887 9.41467L3.79791 9.49534L3.7971 9.57727L3.79531 10.0511L3.79557 10.1809L3.79744 10.4727L3.80183 10.7875L3.80332 10.8633L3.80498 10.9379L3.8068 11.0116L3.80777 11.0477L3.80983 11.1195L3.81207 11.1903L3.81448 11.2602L3.81574 11.2944L3.81841 11.3625L3.82126 11.4297L3.8213 11.4307L3.82429 11.4958L3.82433 11.4968L3.82751 11.5612L3.82916 11.5932L3.83265 11.6569L3.83271 11.6581L3.83631 11.7198L3.83638 11.7209L3.84017 11.7817L3.84025 11.7829L3.84422 11.8427L3.8443 11.844L3.84846 11.9029L3.84855 11.9042L3.85292 11.9626L3.85518 11.9916L3.85526 11.9926L3.85997 12.0505C3.86801 12.1466 3.87688 12.2394 3.88662 12.3294L3.89254 12.3827L3.89272 12.3843L3.8988 12.4366C3.92702 12.6737 3.96174 12.8915 4.00379 13.0985L4.01327 13.1444L4.01358 13.1459L4.01821 13.1677C4.19662 14.0033 4.49393 14.5894 4.95218 15.0471C5.41025 15.5049 5.99727 15.8022 6.83414 15.9805C6.87234 15.9886 6.91087 15.9965 6.94979 16.0041L6.99659 16.0131L6.99852 16.0135L7.0451 16.0221C7.06883 16.0265 7.09271 16.0307 7.11677 16.0348L7.16493 16.043L7.16677 16.0433L7.21496 16.0511C7.33001 16.0695 7.44918 16.086 7.57371 16.1007L7.62788 16.1069C7.65488 16.1099 7.68212 16.1129 7.70963 16.1158L7.76533 16.1214C7.81189 16.1261 7.85921 16.1305 7.90736 16.1347L7.96487 16.1395L7.96624 16.1397L8.02388 16.1443L8.02521 16.1444L8.08372 16.1488L8.08502 16.1489L8.14441 16.1531L8.14567 16.1532L8.20627 16.1573L8.2371 16.1593L8.30001 16.1631L8.30117 16.1632L8.36385 16.1668L8.36497 16.1668L8.42863 16.1702L8.42972 16.1703L8.49439 16.1735L8.49543 16.1736L8.56112 16.1766L8.56214 16.1767L8.62887 16.1795L8.69765 16.1822L8.76747 16.1848L8.83858 16.1872L8.8742 16.1883L8.94674 16.1904L9.0204 16.1923L9.09519 16.1941L9.17114 16.1957L9.24828 16.1971L9.32662 16.1984L9.40617 16.1995L9.48697 16.2005L9.56917 16.2013L9.6104 16.2016L9.73701 16.2025L9.82298 16.2028L9.91029 16.203L10.0876 16.203L10.1749 16.2028L10.2607 16.2025L10.3873 16.2017L10.4699 16.2009L10.5515 16.2L10.6711 16.1984L10.7494 16.1972L10.8265 16.1957L10.9024 16.1941L10.9772 16.1923L11.0508 16.1904L11.1235 16.1883L11.1591 16.1872L11.23 16.1848L11.2998 16.1823L11.3685 16.1796L11.4365 16.1766L11.4697 16.1751L11.5362 16.1719L11.5687 16.1703L11.6337 16.1668L11.6654 16.165L11.7288 16.1613L11.7299 16.1612L11.7912 16.1574L11.7924 16.1573L11.8527 16.1532L11.854 16.1531L11.9134 16.1489L11.9147 16.1488L11.9732 16.1444L11.9745 16.1443L12.0321 16.1397L12.0335 16.1395L12.0903 16.1347L12.0917 16.1346L12.1484 16.1295C12.1767 16.1269 12.2048 16.1242 12.2326 16.1215L12.2885 16.1158C12.463 16.0975 12.6268 16.0761 12.783 16.0512L12.8325 16.0431C12.9465 16.0242 13.0567 16.0034 13.1642 15.9805C14.0011 15.8022 14.5881 15.505 15.0462 15.0472C15.5043 14.5893 15.8017 14.003 15.9801 13.1675C16.0521 12.8304 16.104 12.4665 16.1394 12.0378L16.1442 11.9787L16.1465 11.9493L16.1509 11.8891L16.151 11.8878L16.1551 11.828L16.1552 11.8268L16.1592 11.7661L16.1593 11.7649L16.163 11.7033L16.1631 11.7021L16.1667 11.6395L16.1668 11.6384L16.1702 11.5748L16.1702 11.5737L16.1735 11.5089L16.175 11.4759L16.178 11.4088L16.1781 11.4078L16.1808 11.3406L16.1835 11.2712L16.1847 11.2364L16.1871 11.1657L16.1893 11.0938L16.1913 11.0208L16.1932 10.9467L16.1949 10.8712L16.1957 10.8334L16.1971 10.7564L16.1984 10.6781L16.1995 10.5987L16.2005 10.5179L16.2009 10.4773L16.2016 10.3947L16.2022 10.3109L16.2027 10.2258L16.203 10.0955L16.203 9.91849L16.2028 9.83135L16.2025 9.74555L16.202 9.66106L16.2013 9.57787L16.2005 9.49595L16.1995 9.41529L16.1984 9.33585L16.1971 9.25746L16.1949 9.14255L16.1932 9.06728L16.1913 8.99316L16.1893 8.92017L16.187 8.84826L16.1847 8.77746L16.1821 8.70747L16.1807 8.67323L16.1779 8.60479L16.1764 8.57133L16.1733 8.50465L16.1733 8.50359L16.17 8.43896L16.17 8.43787L16.1665 8.37394L16.1647 8.34221L16.161 8.27889L16.1609 8.2777L16.157 8.21648L16.1569 8.21526L16.1528 8.15464L16.1507 8.12452L16.1462 8.06396L16.1439 8.0345L16.1439 8.03349L16.1391 7.97517L16.1391 7.97416L16.1367 7.94634L16.1366 7.94529L16.1316 7.88785C16.0963 7.49581 16.0464 7.15778 15.979 6.84326C15.8 6.00744 15.5018 5.4211 15.0429 4.9637C14.5819 4.50448 13.9918 4.20474 13.1555 4.02381C12.8784 3.96386 12.5824 3.91742 12.2484 3.88256L12.1923 3.87685C12.1642 3.87407 12.1359 3.87136 12.1072 3.86873L12.0493 3.86354L12.0482 3.86345L12.0204 3.86106L12.0194 3.86097L11.9613 3.85618L11.9599 3.85608L11.9011 3.85149L11.8711 3.84926L11.8097 3.84487L11.7791 3.84278L11.7163 3.8387L11.6851 3.83676L11.621 3.83297L11.5891 3.83117L11.5237 3.82768L11.491 3.82602L11.4245 3.82283L11.4234 3.82278L11.357 3.81982L11.356 3.81977L11.2882 3.81698L11.2538 3.81565L11.1836 3.8131L11.1484 3.8119L11.0768 3.80962L11.0042 3.80752L10.9303 3.80558L10.8932 3.80469L10.7027 3.80084L10.6245 3.79959L10.5452 3.7985L10.4646 3.79758L10.0433 3.79531L9.95508 3.79531L9.78504 3.79575ZM9.72544 4.67763C9.21457 4.67763 8.80044 5.09176 8.80044 5.60263V10.4268L8.80045 10.4293L8.80053 10.4396L8.80056 10.442C8.80873 10.946 9.21966 11.3518 9.72544 11.3518H13.1243L13.1267 11.3518L13.1371 11.3518L13.1395 11.3517C13.6434 11.3436 14.0493 10.9326 14.0493 10.4268L14.0493 10.4244L14.0492 10.4141L14.0492 10.4116C14.041 9.90774 13.6301 9.50185 13.1243 9.50185L10.6504 9.50183L10.6504 5.60263L10.6504 5.60019L10.6504 5.58986L10.6503 5.58743C10.6421 5.08352 10.2312 4.67763 9.72544 4.67763Z",fill:"#191919"}))),"date-week-time"!==h&&n.createElement("strong",null,n.createElement(Ee.q,{timestamp:1e3*c,showType:"onlyDateAbbrMD",isLocaleTimezone:!0})),n.createElement("span",null,A||n.createElement(n.Fragment,null,n.createElement(Ee.q,{timestamp:1e3*c,customizedFormat:"HH:mm",isLocaleTimezone:!0}),"-",n.createElement(Ee.q,{timestamp:1e3*a,customizedFormat:"HH:mm",isLocaleTimezone:!0})))),1===j&&m&&n.createElement("div",{className:"".concat(t,"-status status-").concat(j)},n.createElement(_e.b,{key:"".concat(a,"-").concat(s,"-").concat(o),inputStr:S.get("e1d607780c865de4b895298b4acc9b05",{countDown:"#@cd@#1#@cd@#",ns:"translation"}),countdown:{time:{finishTime:a,requestTime:s,serverTime:o},displayType:p,onFinish:function(){return U(!0)}}})),3===j&&m&&n.createElement("div",{className:"".concat(t,"-status status-").concat(j)},n.createElement(_e.b,{key:"".concat(c,"-").concat(s,"-").concat(o),inputStr:S.get("0948e04166f2a0236ec1747ef63e5bf6",{countDown:"#@cd@#1#@cd@#"}),countdown:{time:{finishTime:c,requestTime:s,serverTime:o},displayType:p,onFinish:function(){return U(!0)}}})))}var ke=a(16843),Ce=a(86690),Se=a(86969),Te=function(){return Te=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},Te.apply(this,arguments)},Ie=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};I.Z.use([M.Z,D.Z]);var Me="https://i02.appmifile.com/128_operatorx_operatorx_xm/21/10/2024/607c4037511722c351c24696bfb91175.png",De="https://i02.appmifile.com/253_operatorx_operatorx_xm/21/10/2024/0f4a99804dce55c07c8a0689e0a15ab6.png",Oe="https://i02.appmifile.com/396_operatorx_operatorx_xm/21/10/2024/bf144768e6e584d416c9b454614f8439.png",qe="https://i02.appmifile.com/231_operatorx_operatorx_xm/28/10/2024/1a3c740a74d736ab46512dee368b705a.png",je={0:"https://i02.appmifile.com/186_operatorx_operatorx_xm/08/11/2024/83a88045e41c64154e9925053e0e64d0.png",1:"https://i02.appmifile.com/857_operatorx_operatorx_xm/23/10/2024/aa4a567dc1d22e4e8c20ae58ee97d4a1.png"},Pe="https://i02.appmifile.com/786_operatorx_operatorx_xm/08/11/2024/eb4f62a750a917295901b300afb44ceb.png",Ae="https://i02.appmifile.com/26_operatorx_operatorx_xm/08/11/2024/88d9cd6fbdf8781647f0f7a276c82a2d.png",Fe="https://i02.appmifile.com/798_operatorx_operatorx_xm/08/11/2024/e2f70e31eda9ee92bf688e4849d52a33.png",Ue="https://i02.appmifile.com/904_operatorx_operatorx_xm/28/11/2024/013ad27bb9ae3d4337b8d065061a6994.png",ze="https://i02.appmifile.com/613_operatorx_operatorx_xm/28/11/2024/b6c197f2e637fa2c3e04b863f0b11d7f.png",Re=[{name:"left",pc:{start:"https://i02.appmifile.com/32_operatorx_operatorx_xm/03/12/2024/22916115082210702e4e7741339cf9b1.png",middle:"https://i02.appmifile.com/290_operatorx_operatorx_xm/03/12/2024/139cf29200539a66e07239874edf0358.png",end:"https://i02.appmifile.com/140_operatorx_operatorx_xm/02/12/2024/2f2d95e1e55f220966aca0cb1b1593d1.png"},m:{start:"https://i02.appmifile.com/524_operatorx_operatorx_xm/03/12/2024/86297e14cb896d8c571917beb2dda540.png",middle:"https://i02.appmifile.com/376_operatorx_operatorx_xm/03/12/2024/e7887e1e10e40f725517d02ac04966c5.png",end:"https://i02.appmifile.com/361_operatorx_operatorx_xm/02/12/2024/a8d6f4a161a8a36ce676adec9dee2768.png"}},{name:"center",pc:{start:Ue,middle:Ue,end:Ue},m:{start:ze,middle:ze,end:ze}},{name:"right",pc:{start:"https://i02.appmifile.com/275_operatorx_operatorx_xm/02/12/2024/2ae186145f32b18ad6c01e370f791c26.png",middle:"https://i02.appmifile.com/273_operatorx_operatorx_xm/28/11/2024/bfd602386fc69177dd3ea9cb8e0ee931.png",end:"https://i02.appmifile.com/447_operatorx_operatorx_xm/03/12/2024/d34f35ba9e1985e217c324a866935114.png"},m:{start:"https://i02.appmifile.com/418_operatorx_operatorx_xm/02/12/2024/11c3d3b546002e20558e6131b47fd7da.png",middle:"https://i02.appmifile.com/84_operatorx_operatorx_xm/28/11/2024/eb1bf42aecf5d0668119e65b63bc7fbd.png",end:"https://i02.appmifile.com/613_operatorx_operatorx_xm/03/12/2024/8bf01701a34a2bda61a91eeabb53588e.png"}}],We=n.memo((function(e){var t=e.activeIndex,a=e.dpListLen,o=e.hasScrollbar,r=e.index,i="mobile"===(0,T.ag)(),l=t===r;return n.createElement("div",{className:c({"tab-bg-layer":!0,show:l})},Re.map((function(e){var t,l=i?e.m:e.pc,s=r>0&&r!==a-1,m=r===a-1&&!o,d=!m&&r===a-1,u="";return 0===r?u=l.start:m||s?u=l.middle:d&&(u=l.end),n.createElement("img",{key:e.name,className:c((t={"tab-bg-img":!0},t[e.name]=!0,t.end=d,t.mid=s,t)),src:u,alt:u})})))}));function Ze(e){var t,a,o,r,i,l=e.buttons,s=e.classModify,m=e.otClick,u=e.otExpose,f=e.otModule,p=e.skeletonData,L=e.layoutIndex,v=e.theme,g=(0,T.ag)(),h="mobile"===g,y=(0,b.oW)(),x=(0,b.YB)(),E="".concat(y.wwwSite.pc,"/store/daily-picks"),_=(0,n.useContext)(ke.__),w=(0,n.useContext)(de.$m),N=Ie((0,n.useState)(0),2),k=N[0],C=N[1],S=Ie((0,n.useState)(0),2),I=S[0],M=S[1],D=Ie((0,n.useState)(!1),2),j=D[0],P=D[1],A=(0,n.useRef)(!1),F="web-store-daily-pick",U=Ie((0,n.useState)(0),2),z=U[0],R=U[1],W=(0,n.useRef)(),Z=(0,n.useRef)(null),H=(0,n.useRef)((null===window||void 0===window?void 0:window.innerWidth)||0);(0,n.useEffect)((function(){(_.getServiceSuccess||p)&&(C(Math.floor(Date.now()/1e3)),w.getService())}),[_.getServiceSuccess,p,I]),(0,n.useEffect)((function(){if(w.getServiceSuccess&&!p){var e=(0,Ce.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".".concat(F)),targetNodeSelector:"[data-ot-expose]"},(function(e,t){var a;return"function"==typeof u&&u(e||{},String((null===(a=null==e?void 0:e.tip)||void 0===a?void 0:a.c)||""))}));return function(){e&&e.disconnect()}}return function(){return null}}),[w.getServiceSuccess]);var B=(0,n.useMemo)((function(){return w.data.filter((function(e){return 1===e.actType&&1e3*e.endTime>Date.now()+5e3})).map((function(e){var t;return Te(Te({},e),{children:null===(t=e.children)||void 0===t?void 0:t.map((function(t){return Te(Te({},e),t)})).slice(0,5)})})).slice(0,4)||p}),[w.ajaxStatus,I]),V=B.length,Y=(0,n.useMemo)((function(){return V<=2?"":h?je[0]:""}),[V,h,je]);function G(){(null===window||void 0===window?void 0:window.innerWidth)!==H.current&&(H.current=null===window||void 0===window?void 0:window.innerWidth,X())}(0,n.useEffect)((function(){return window.addEventListener("resize",G),function(){window.removeEventListener("resize",G)}}),[]),(0,n.useEffect)((function(){setTimeout((function(){X()}),300)}),[L,V,g]);var J=function(e,t,a){var n,c=document.querySelector(".dp-tab-".concat(L,"-").concat(t));if(c){var o=c.offsetLeft,r=null===(n=document.querySelector(".dp-header-".concat(L)))||void 0===n?void 0:n.scrollWidth,i=document.querySelector(".dp-header-".concat(L));if(i&&r){var l;l=0===t?0:o-(h?60:69),("mobile"===g||(null!=a?a:j))&&i.scrollTo({left:l,behavior:"smooth"}),A.current=!1}}},K=(0,n.useCallback)((function(){V>2&&M(Date.now())}),[]);function X(){var e=null===window||void 0===window?void 0:window.document.querySelector(".dp-header-".concat(L)),t=null===window||void 0===window?void 0:window.document.querySelector(".dp-header-".concat(L,"-bg"));if(e&&t){var a=!1;e.clientWidth<t.clientWidth&&(a=!0),P(a),J(0,z,a)}}return V<1?n.createElement(n.Fragment,null):n.createElement("div",{className:c((t={},t["".concat(F)]=!0,t["".concat(F,"--").concat(s)]=!!s,t)),role:"button",tabIndex:0,onClick:function(e){e.stopPropagation()}},n.createElement("article",{role:"main",className:"".concat(F,"__container")},n.createElement("section",{className:"".concat(F,"__title"),role:"heading","aria-level":2},l[0]&&n.createElement(d.z,{className:"".concat(F,"__link"),withArrow:"disable",btnTheme:"light",btnType:"link",href:(0,Se.H)(E),onClick:function(e){var t;e.stopPropagation(),m({tip:{a:16,c:f,d:0},link:"".concat(E),elementName:"store_daily_pick",elementTitle:"".concat(null===(t=l[0])||void 0===t?void 0:t.text)}),window.location.assign(E)}},n.createElement("h2",{className:"h2"},n.createElement(_e.b,{inputStr:x.get("99c11af30ef669b0f4d7537541782181",{icon:"#@icon@#".concat("lightning-solid","#@icon@#")})})),n.createElement("span",{className:"text-arrow"}," ",">"))),n.createElement("div",{className:"".concat(F,"__tab-container"),ref:Z},n.createElement("div",{className:"dp-header dp-header-".concat(L),style:{backgroundImage:"url(".concat(V>2&&j?Y:"",")")}},n.createElement("div",{className:c((a={header__bg:!0},a["bg-len-".concat(V)]=!0,a["dp-header-".concat(L,"-bg")]=!0,a))},!h&&V>=2&&!j&&n.createElement("div",{className:"header__bg-mask"},n.createElement("img",{className:"header__bg-mask-left",src:Me,alt:"left"}),n.createElement("img",{className:"header__bg-mask-center",src:De,alt:"center"}),n.createElement("img",{className:"header__bg-mask-right",src:Oe,alt:"right"})),n.createElement("div",{className:c((o={"tab-middle":!0},o["bg-len-".concat(V)]=!0,o["extra-pos"]=!h&&V>=2&&j,o))},h&&!j&&V>1&&n.createElement("div",{className:"header__bg-mask-mobile"},n.createElement("img",{className:"header__bg-mask-mobile-left",src:Pe,alt:"left"}),n.createElement("img",{className:"header__bg-mask-mobile-center",src:Ae,alt:"center"}),n.createElement("img",{className:"header__bg-mask-mobile-right",src:Fe,alt:"right"})),n.createElement("div",{className:"tab-scroll"},B.map((function(e,t){var a,o=B[t],r=o.endTime,i=o.startTime,l=o.serverTime;return n.createElement("div",{className:c((a={"tab-item":!0},a["dp-tab-".concat(L,"-").concat(t)]=!0,a["has-scrollbar"]=j,a)),key:t},n.createElement(We,{activeIndex:z,dpListLen:V,hasScrollbar:j,index:t}),n.createElement("div",{key:t,className:c({"tab-text":!0,"tab-text-act":t===z}),style:{},onClick:function(e){var a;R(t),A.current=!0,null===(a=W.current)||void 0===a||a.slideTo(t),J(0,t),m({tip:{a:16,c:"".concat(f,"|").concat(t+1),d:0},elementName:"store_daily_pick",elementTitle:"session".concat(t+1)})}},n.createElement(Ne,{basicClassName:F,requestTime:k,allowHeaderCountdown:!0,updateActivityList:function(){return V>0?M(Date.now()):null},countDownType:"icon",handleStatusCallback:function(e){"finished"===e&&V>1&&M(Date.now())},endTime:r,startTime:i,serverTime:l,isActive:z===t,listLen:V,index:t})))})))))),!h&&V>=2&&j&&n.createElement("div",{className:"header__bg-mask scroll-style"},n.createElement("img",{className:"header__bg-mask-left",src:Me,alt:"left"}),n.createElement("img",{className:"header__bg-mask-center",src:De,alt:"center"}),j&&n.createElement("img",{className:"header__bg-mask-right2",src:qe,alt:"right2"})),n.createElement("div",{className:c((r={},r["".concat(F,"-tab-content")]=!0,r["extra-pos"]=!h&&V>=2&&j,r))},n.createElement(O.t,{onSwiper:function(e){W.current=e},wrapperTag:"ul",spaceBetween:0,slidesPerView:"auto",simulateTouch:V>1,scrollbar:!1,className:c((i={},i["".concat(F,"-swiper")]=!0,i["".concat(F,"-swiper--scroll")]=V>1,i)),allowTouchMove:h,onSlideChange:function(e){var t;R(e.realIndex);var a=null===(t=document.querySelector(".dp-header-".concat(L)))||void 0===t?void 0:t.querySelectorAll(".tab-text")[e.realIndex];a&&(A.current||J(0,e.realIndex))},lazy:{loadPrevNext:!h}},B.map((function(e,t){return n.createElement(q.o,{tag:"li",key:"".concat(t)},n.createElement(me,Te({key:"".concat(t,"-").concat(B[t].actId),requestTime:k,basicClassName:F,otClick:m,otModule:f,otExpose:u,updateActivityList:K,layoutIndex:L,theme:v},e,{listIndex:t,skeletonData:p})))})))))))}var He=a(3238),Be=function(){return Be=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var c in t=arguments[a])Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c]);return e},Be.apply(this,arguments)},Ve=function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var n,c,o=a.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)r.push(n.value)}catch(i){c={error:i}}finally{try{n&&!n.done&&(a=o.return)&&a.call(o)}finally{if(c)throw c.error}}return r};function Ye(e){var t=(0,b.oW)(),a=(0,n.useContext)(He.G4).isWebStorePage;return n.createElement(de.C9,{siteConfig:t},n.createElement(x.Z,{siteConfig:t},a?n.createElement(Ze,Be({},e)):n.createElement(Ge,Be({},e))))}function Ge(e){var t,a,r,i=e.buttons,l=e.images,s=e.classModify,m=e.otClick,u=e.otExpose,f=e.otModule,p=e.skeletonData,L=e.layoutIndex,v=(0,T.ag)(),g=(0,b.oW)(),h="".concat(g.wwwSite.pc,"/store/daily-picks"),y=(null===(t=null==i?void 0:i[0])||void 0===t?void 0:t.gotoUrl)||h,x=(0,n.useContext)(ke.__),E=(0,n.useContext)(de.$m),_=Ve((0,n.useState)(0),2),w=_[0],N=_[1],k=Ve((0,n.useState)(0),2),C=k[0],S=k[1],I="store-daily-pick",M="mobile"===v?null===(a=l[0])||void 0===a?void 0:a.src.mobile:null===(r=l[0])||void 0===r?void 0:r.src.widescreen,D=["view_promotion","select_promotion"];(0,n.useEffect)((function(){(null==p?void 0:p.length)||(N(Math.floor(Date.now()/1e3)),x.getServiceSuccess&&E.getService())}),[x.getServiceSuccess,p]),(0,n.useEffect)((function(){if(E.getServiceSuccess){var e=(0,Ce.otExposeWith)({isInfinite:!1,exposeThreshold:.3,targetNodeWrapper:document.querySelector(".".concat(I)),targetNodeSelector:"[data-ot-expose]"},(function(e,t){var a;return"function"==typeof u&&u(e||{},String((null===(a=null==e?void 0:e.tip)||void 0===a?void 0:a.c)||""))}));return function(){e&&e.disconnect()}}return function(){return null}}),[E.getServiceSuccess]);var j=(0,n.useMemo)((function(){return p||E.data.filter((function(e){return 1===e.actType&&1e3*e.endTime>Date.now()+5e3})).flatMap((function(e,t,a){return 0!==t&&a.length>2&&e.children.length>1?e.children.map((function(t,a){return Be(Be({},e),{children:[e.children[a]]})})):e}))}),[E.ajaxStatus,C]);return j.length<2?n.createElement(n.Fragment,null):function(){var e,t;return n.createElement("div",{className:c((e={},e["".concat(I)]=!0,e["".concat(I,"--").concat(s)]=!!s,e)),role:"button",tabIndex:0,onClick:function(e){var t;e.stopPropagation(),m({event:D[1],tip:{c:f,d:0},link:"".concat(y),elementName:"daily_pick",elementTitle:"".concat(null===(t=null==i?void 0:i[0])||void 0===t?void 0:t.text)}),window.location.assign(y)}},n.createElement("article",{role:"main",className:"".concat(I,"__container"),style:M?{backgroundImage:"url(".concat(M||"",")")}:{}},n.createElement("section",{className:"".concat(I,"__title"),role:"heading","aria-level":2,"data-ot-expose":JSON.stringify({event:D[0],tip:{c:f,d:0},link:"".concat(y),elementName:"daily_pick",elementTitle:"".concat(null===(t=null==i?void 0:i[0])||void 0===t?void 0:t.text)})},i.map((function(e,t){return n.createElement(d.z,{key:t,className:"".concat(I,"__link"),withArrow:"enable",btnTheme:"dark",btnType:"link",href:(0,Se.H)(y),onClick:function(t){t.stopPropagation(),m({event:D[1],tip:{c:f,d:0},link:"".concat(y),elementName:"daily_pick",elementTitle:"".concat(e.text)})}},e.text)}))),n.createElement(o.I,{margin:"small",style:"mobile"===v?2:j.length>2?14:2},j.filter((function(e,t,a){return"mobile"===v?!(a.length>2)||0===t:t<3})).map((function(e,t){return n.createElement(A,Be({key:"".concat(t,"-").concat(e.actId),activeIndex:t,requestTime:w,basicClassName:I,otClick:m,otModule:f,updateActivityList:function(){return j.length>2?S(Date.now()):null},layoutIndex:L},e))}))),"mobile"===v&&j.length>2&&n.createElement("section",{className:"".concat(I,"__slide")},[1].map((function(){return n.createElement(O.t,{key:"slide",wrapperTag:"ul",slidesPerView:"auto",simulateTouch:!0},j.filter((function(e,t){return"mobile"===v?t>0:t<8})).map((function(e,t){return n.createElement(q.o,{tag:"li",key:"".concat(t,"-").concat(e.actId)},n.createElement(A,Be({activeIndex:t,requestTime:w,basicClassName:I,updateActivityList:function(){return null},otClick:m,otModule:f,otTipOffsetD:1,layoutIndex:L},e)))})))})))))}()}const Je=Ye}}]);