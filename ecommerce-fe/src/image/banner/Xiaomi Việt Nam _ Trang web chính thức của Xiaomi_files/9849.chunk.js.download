"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9849],{69849:(e,t,r)=>{r.d(t,{x:()=>F});var n=r(67294),i=r(4153),o=r(70308),a=r(9905),c=r(30833),s=r(70096),u=r(28553),l=r(47036),m=r(72670),d=r(55066),f=r(16607),p=r(77613),g=r(92311),_=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},v=(0,f.o)(g.t5),y=(0,n.createContext)(v);function b(e){var t=e.siteConfig,r=e.isAutoFetch,i=e.children,o=_((0,n.useState)(v),2),a=o[0],c=o[1];function s(e){var t=e.data,r=e.errmsg,n=e.errno;return{data:(0,g.t5)(t||{}),errMsg:String(r),errNo:Number(n)}}var u={url:"".concat(t.goSite,"/v2/item/space"),method:"GET",basicParams:{from:"web"},withCredentials:!0,retryOptions:{maxRetryAttempts:1,scalingDuration:2e3,excludedErrorCodes:[10001,23e3]}};return n.createElement(p.h,{context:y,setState:c,defaultValue:v,adapterError:function(e){return s(e)},adapter:s,value:a,siteConfig:t,isAutoFetch:!0===r,ajaxConfig:u},i)}var S=r(56024),h=r(1796),N=r(52241),k=r(64342),I=r(45381),E=r(38733),x=r(29674),w={data:{showRecentPriceLocal:[{api:!0,locals:["fr","it","de","nl","pl","cz"]}]},html:{},js:{},css:{}},C=r(98231),T=r(55709),A=r(74825),L=r(96381),P=r(94184),D=r.n(P),O=function(){return O=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},O.apply(this,arguments)},j=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},M=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))};function R(e){var t,r=e.activityTheme,f=e.isShowEventVersionSelect,p=e.customizeData,g=e.buttonType,_=void 0===g?"buy":g,v=e.spuId,b=e.isShowMarketingTags,P=void 0===b||b,O=e.confirmButtonClick,R=e.closeEventVersionSelect,F=e.onAddToCartSuccess,B="black-gold"===r?"dark":"light",V=j((0,n.useState)([]),2),z=V[0],G=V[1],U=j((0,n.useState)([]),2),X=U[0],J=U[1],W=j((0,n.useState)([]),2),H=W[0],K=W[1],Y=j((0,n.useState)(),2),Z=Y[0],$=Y[1],q=j((0,n.useState)(e.goodsId),2),Q=q[0],ee=q[1],te=j((0,n.useState)([]),2),re=te[0],ne=te[1],ie=j((0,n.useState)(""),2),oe=ie[0],ae=ie[1],ce=j((0,n.useState)(!0),2),se=ce[0],ue=ce[1],le=(0,n.useRef)(null),me=(0,n.useRef)(),de=(0,n.useRef)(""),fe=(0,n.useContext)(y),pe=(0,n.useContext)(d.o),ge=(0,n.useContext)(C.Pk).dispatch,_e=(0,S.ag)(),ve=(0,h.oW)(),ye=(0,h.YB)(),be=(0,h.aU)(),Se=["exchange","freeshipping","discount"],he=(0,x.h)(be,w),Ne=!!he.data&&!!he.data.showRecentPriceLocal;(0,n.useEffect)((function(){var e,t=H.filter((function(e){return e.itemId===Q}))[0],r=[];t&&($(t),me.current=p.filter((function(e){return e.goodsId===Q}))[0],0===me.current.priceType&&Se.includes("discount")&&Se.pop(),1!==me.current.priceType||Se.includes("discount")||Se.push("discount"),t.marketingTags&&t.marketingTags.filter((function(e){return Se.includes(e.subType)})).forEach((function(e){e.label&&r.push(e.label)})),ne(M([],j(r),!1)),de.current=t.marketingTags&&(null===(e=t.marketingTags.filter((function(e){return"interestfree"===e.subType}))[0])||void 0===e?void 0:e.label)||"")}),[Q,H]),(0,n.useEffect)((function(){"success"===fe.ajaxStatus&&ue(!1)}),[fe.ajaxStatus]),(0,n.useEffect)((function(){fe.getService({params:{spu:v,item_list:p.map((function(e){return e.goodsId})).join()}})}),[]),(0,n.useEffect)((function(){if("success"===fe.ajaxStatus){var t=0,r=0;fe.data.spuList.forEach((function(r,n){r.itemList.forEach((function(r){r.itemId===e.goodsId&&(t=n)}))})),fe.data.specsList.forEach((function(t,n){t.skuSpecsList.forEach((function(t){t.itemId===e.goodsId&&(r=n)}))})),G(fe.data.specsList[r].skuSpecsList),J(fe.data.specsList[r].specsInfo),K(fe.data.spuList[t].itemList)}}),[fe.getServiceSuccess]);var ke=(0,N.m)((function(e,t){return t.pipe((0,T.U)((function(e){var t=j(e,2),r=t[0],n=t[1];return r.map((function(e){var t=e.specsName.map((function(e,t){return n[t].list.findIndex((function(t){return t.name===e}))}));return[t.join(","),{skuName:e.specsName,skuIndex:t,goodsId:[e.itemId]}]}))})))}),[],[z,X]),Ie=j((0,k.$)((function(e,t){return e.pipe((0,A.p)(500),(0,L.w)((function(e){var t=j(e,4),r=t[0],n=t[1],i=t[2],o=t[3],a=(0,m.D)(ve,n,i,o,"mobile"===_e?"mobile":"pc");return pe.getObservable({params:{id:r,tracking_addcart:a.trackingAddCart,otdata:a.otData}}).pipe((0,T.U)((function(e){0===e.errNo?"buy"===_?(F&&F(!1),window.location.href="".concat(ve.buySite["mobile"!==_e?"pc":"m"],"/cart")):(0,I.R)(le.current,(function(){ge({type:C.Tm.ADD_TO_CART}),F&&F(!0),R()})):ae(e.errMsg)})))})))}),void 0),1),Ee=Ie[0];function xe(){var e,t,r,a,c=Ne&&(null==Z?void 0:Z.referencePrice)&&String(0===(null===(e=me.current)||void 0===e?void 0:e.priceType)?me.current.price:null==Z?void 0:Z.salePrice)!==String(null==Z?void 0:Z.marketPrice);return n.createElement("div",{className:"version__info"},n.createElement("div",{className:"version__info-title"},null==Z?void 0:Z.itemName," x 1"),n.createElement("div",{className:"version__info-tag"},(null===(t=me.current)||void 0===t?void 0:t.tag)&&n.createElement("div",{className:"version__info-tag-item"},null===(r=me.current)||void 0===r?void 0:r.tag),P&&re.map((function(e,t){return n.createElement("div",{className:"version__info-tag-item",key:t},e)}))),n.createElement(i.Y,{className:"version__info-energy",energyInfo:null==Z?void 0:Z.energyInfo}),n.createElement(o.n,{className:"version__info-price",salePrice:String(0===(null===(a=me.current)||void 0===a?void 0:a.priceType)?me.current.price:null==Z?void 0:Z.salePrice),delPrice:String(null==Z?void 0:Z.marketPrice)}),(P&&de.current||c)&&n.createElement("div",{className:"version__info-price-detail"},P&&de.current&&n.createElement("span",{className:"installment"},de.current),c&&n.createElement("span",null,n.createElement(o.n,{displayType:"string",salePrice:String(null==Z?void 0:Z.referencePrice),translation:ye.get("79d13a832dd0989ecab16b2f88361ba9")}))))}return n.createElement(a.u,{extraClassName:D()("event-version-select__modal event-theme",(t={},t["event-theme--".concat(B)]=!!B,t["event-theme--".concat(r)]=!!r,t["event-version-select__modal-button--disabled"]=Z&&(0,E.O)(Z),t)),styleMode:"bottom",isModalShow:f,closeModal:R,isShowCloseIcon:!0,confirmText:Z&&(0,E.O)(Z)?ye.get("b55197a49e8c4cd8c314bc2aa39d6feb"):(null==Z?void 0:Z.isJumpVersion)?ye.get("de08ef55feb28ed601c47c2f249b09ac"):"buy"===_?ye.get("eeceac1af4e7620894d6d2083921bb73"):ye.get("2d0f6b8300be19cf35e89e66f0677f95"),confirm:function(){var e;Z&&(0,E.O)(Z)||(O&&Q?O(Q):(null==Z?void 0:Z.isJumpVersion)&&Z.spuLink?window.location.href=Z.spuLink:Ee(["".concat(Q,"-0-1"),"",Number((0===(null===(e=me.current)||void 0===e?void 0:e.priceType)?me.current.price:null==Z?void 0:Z.salePrice)||0),""]))}},se?n.createElement(c.a,{type:"inner"}):n.createElement(n.Fragment,null,n.createElement("div",{className:"version__image"},n.createElement("span",{ref:le},n.createElement(s.E,{alt:"",srcSet:{widescreen:null==Z?void 0:Z.resourceList.filter((function(e){return"image"===e.type}))[0].src},widths:{widescreen:260,mobile:97}})),"mobile"===_e&&xe()),n.createElement("div",{className:"version__info-wrapper"},"mobile"!==_e&&xe(),!!X.length&&n.createElement(l.$,{skuMap:ke,skuList:X,skuData:H,currentGoodsId:Q,bigTapDisabledIds:[],setGoodsId:function(e,t){return ee(e)},resetGoodsId:function(){return ee(e.goodsId)},baseClassName:"sku-section",titleClassName:"sku-section__title",portalClassName:"group-item__sku"})),n.createElement(u.F,{msg:oe,type:"error",callback:function(){return ae("")}})))}function F(e){var t=(0,h.oW)();return n.createElement(b,{siteConfig:t},n.createElement(d.X,{siteConfig:t},n.createElement(R,O({},e))))}},72670:(e,t,r)=>{r.d(t,{D:()=>a});var n=r(27930),i=r(26644),o=r(86690);function a(e,t,r,a,c){var s=(0,n.W)("pageId"),u=(0,n.W)("viewId"),l=(0,i.uZ)()?e.stat.domainId.app:(0,i.j1)()?e.stat.domainId.ios:e.stat.domainId.web,m=(0,i.Xf)("mobile");var d={common:Object.assign(function(e){if(!e)return{};return{view_tip:e.viewTip||"",instance_id:e.instanceId||"",ref_tip:e.refTip||"",session_id:e.sessionId||"",lastsource:e.lastSource||"",utm_type:e.utmType||"",utm_channel:e.utmChannel||"",utm_campaign:e.utmCampaign||"",utm_source:e.utmSource||"",utm_medium:e.utmMedium||"",utm_term:e.utmTerm||"",utm_content:e.utmContent||"",exp_id:"mistore4"}}((0,o.getSettings)()),{app_platform:m,site_country:e.local||"",tip:a||""}),biz:{cart_add:{goods_amount:String(r)}}};return{trackingAddCart:"".concat(l,"->{").concat(s,"}::{").concat(u,"}->{").concat(c,"_buy_").concat(t,"}::{btnBuyNow}"),otData:window.btoa(JSON.stringify(d))}}},92311:(e,t,r)=>{r.d(t,{XD:()=>l,Xp:()=>p,Xx:()=>u,eZ:()=>S,oi:()=>_,t5:()=>m});var n=r(67294),i=r(16607),o=r(77613),a=r(67279),c=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(c){i={error:c}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},s=(0,i.o)(m),u=(0,n.createContext)(s);function l(e){var t=e.siteConfig,r=e.isAutoFetch,i=e.children,a=c((0,n.useState)(s),2),l=a[0],d=a[1];function f(e){var t=e.data,r=e.errmsg,n=e.errno;return{data:m(t||{}),errMsg:String(r),errNo:Number(n)}}var p={url:"".concat(t.goSite,"/v2/item/detail"),method:"GET",basicParams:{from:"web"},withCredentials:!0,retryOptions:{maxRetryAttempts:1,scalingDuration:2e3,excludedErrorCodes:[10001,23e3]}};return n.createElement(o.h,{context:u,setState:d,defaultValue:s,adapterError:function(e){return f(e)},adapter:f,value:l,siteConfig:t,isAutoFetch:!0===r,ajaxConfig:p},i)}function m(e){return void 0===e&&(e={}),{productId:Number(e.product_id||0),commodityId:Number(e.commodity_id||0),spuId:String(e.spu_id||""),spuTitle:String(e.spu_title||""),spuDesc:String(e.spu_desc||""),spuOverview:String(e.spu_overview||""),spuType:Number(e.spu_type||1),resourceList:d(e.resource_list||[]),comboInfo:f(e.combo_info||{}),spuList:_(e.spu_list||[]),specsList:S(e.specs_list||[]),offerList:N(e.offer_list||[]),supportList:N(e.support_list||[])}}function d(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{type:e.type||"image",src:e.src||""}}))}function f(e){return void 0===e&&(e={}),{comboItemId:Number(e.combo_item_id||0),limitMin:Number(e.limit_min||1),limitMax:Number(e.limit_max||e.limit_min||1),comboGroup:p(e.combo_group||[]),comboList:g(e.combo_list||[])}}function p(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{groupId:Number(e.group_id||0),name:e.name||"",spuItem:Array.from(e.spu_item||[]).map((function(e){return String(e)}))}}))}function g(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{comboId:Number(e.combo_id||0),marketPrice:Number(e.market_price||e.price||0),salePrice:Number(e.price||0),savePrice:Number(e.save_price||0),referencePrice:Number(e.reference_price||0),goodsDealer:String(e.goods_dealer||""),mrpInfo:b(e.mrp_info||{}),spuItem:Array.from(e.spu_item||[]).map((function(e){return String(e)})),skuItem:Array.from(e.sku_item||[]).map((function(e){return Number(e)})),skuSalePrice:Array.from(e.sku_item_price||[]).map((function(e){return Number(e)}))}}))}function _(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){var t,r;return{spuId:String(e.spu_id||""),productId:Number(e.product_id||0),spuName:String(e.spu_name||""),spuLink:String(e.spu_link||""),energyInfo:(0,a.T)((null===(r=null===(t=e.item_list)||void 0===t?void 0:t[0])||void 0===r?void 0:r.energy)||[]),itemList:v(e.item_list||[])}}))}function v(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{itemId:Number(e.item_id||0),itemName:String(e.item_name||""),isSale:!!e.is_sale,isOutOfStock:!!e.is_out_of_stock,isNotForSale:!!e.is_not_for_sale,marketPrice:Number(e.market_price||e.price||0),salePrice:Number(e.price||0),savePrice:Number(e.save_price||0),limitMin:Number(e.limit_min||1),limitMax:Number(e.limit_max||e.limit_min||1),goodsDealer:String(e.goods_dealer||""),mrpInfo:b(e.mrp_info||{}),resourceList:d(e.resource_list||[]),energyInfo:(0,a.T)(e.energy||[]),marketingTags:y(e.marketing_tags||[]),referencePrice:Number(e.item_reference_price||0),isJumpVersion:e.is_jump_spu_link||!1,spuLink:String(e.spu_link||"")}}))}function y(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{type:String(e.type||""),subType:e.subtype||"",label:String(e.tag_text||"")}}))}function b(e){return void 0===e&&(e={}),{isShow:!!e.is_show,categoryName:String(e.cat_name||""),countryOrigin:String(e.country_origin||""),importerDetails:String(e.importer_details||""),manufacturerBy:String(e.manufacturer_by||""),manufacturerDetails:String(e.manufacturer_details||""),marketPriceFmt:String(e.market_price||""),salePriceFmt:String(e.sale_price||"")}}function S(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{spuId:String(e.spu_id||""),groupId:Number(e.group_id||0),specsInfo:h(e.specs_list||[]),skuSpecsList:Array.from(e.sku_list||[]).map((function(e){return{itemId:Number(e.item_id||0),specsName:Array.from(e.specs_item||[]).map((function(e){return String(e)}))}}))}}))}function h(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e,t){return{key:String(e.key||t||""),title:String(e.title||""),list:Array.from(e.list||[]).map((function(e){return{name:String(e.name||""),img:String(e.img||""),rgb:String(e.rgb||"")}}))}}))}function N(e){return void 0===e&&(e=[]),Array.from(e||[]).map((function(e){return{content:String(e.content||""),link:String(e.link||"")}}))}},45381:(e,t,r)=>{function n(e,t,r,n){var i=e,o=document.querySelector(n||".main-item__cart");if(i&&o){var a=i.getBoundingClientRect(),c=o.getBoundingClientRect(),s=i.cloneNode(!0);s.style.position="fixed",s.style.zIndex="40",s.style.margin="auto",s.style.left="".concat(a.left,"px"),s.style.top="".concat(a.top,"px"),s.style.height="".concat(a.height,"px"),s.style.width="".concat(a.width,"px"),s.style.overflow="hidden",s.style.opacity="0",r?r.appendChild(s):document.body.appendChild(s),setTimeout((function(){s.style.opacity="1"}),0),setTimeout((function(){s.style.borderRadius="50%",s.style.transform="scale(0.1)",s.style.left="".concat(c.left-a.width/2,"px"),s.style.top="".concat(c.top-a.height/2,"px"),s.style.transition="opacity .5s cubic-bezier(1,0,1,1), transform .5s linear, left .5s linear, top .5s cubic-bezier(1,0,1,1)",s.style.opacity="0",setTimeout((function(){r?r.removeChild(s):document.body.removeChild(s),t&&t()}),500)}),500)}else t&&t()}r.d(t,{R:()=>n})}}]);